import{_ as s,r as o,o as l,c as r,a as t,b as a,d as e,e as d}from"./app-7ac5536a.js";const i={},c=t("h1",{id:"customizing-data-loader-for-your-own-dataset",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#customizing-data-loader-for-your-own-dataset","aria-hidden":"true"},"#"),a(" Customizing Data Loader for Your Own Dataset")],-1),u={href:"https://github.com/FedML-AI/FedML/tree/master/python/fedml/data",target:"_blank",rel:"noopener noreferrer"},p=t("thead",null,[t("tr",null,[t("th",null,[t("strong",null,"Params")]),t("th")])],-1),_=t("tr",null,[t("td",null,"client_number"),t("td",null,"The number of clients in total.")],-1),h=t("tr",null,[t("td",null,"train_data_num"),t("td",null,"The number of training samples in total.")],-1),m=t("tr",null,[t("td",null,"test_data_num"),t("td",null,"The number of test samples in total.")],-1),b=t("td",null,"train_data_global",-1),f={href:"https://pytorch.org/docs/stable/data.html",target:"_blank",rel:"noopener noreferrer"},k=t("td",null,"test_data_global",-1),v={href:"https://pytorch.org/docs/stable/data.html",target:"_blank",rel:"noopener noreferrer"},g=t("tr",null,[t("td",null,"train_data_local_num_dict"),t("td",null,"Deprecated, will be removed later.")],-1),y=t("td",null,"train_data_local_dict",-1),x={href:"https://pytorch.org/docs/stable/data.html",target:"_blank",rel:"noopener noreferrer"},L=t("td",null,"test_data_local_dict",-1),M={href:"https://pytorch.org/docs/stable/data.html",target:"_blank",rel:"noopener noreferrer"},T=t("tr",null,[t("td",null,"class_num"),t("td",null,"The number of classes, normally used for determining the dimension of the output layer for classification task.")],-1),F=d(`<p>Taking the simplest MNIST as example, the form of the return is as follows.</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;load_data. dataset_name = %s&quot;</span> <span class="token operator">%</span> dataset_name<span class="token punctuation">)</span>
<span class="token punctuation">(</span>
    client_num<span class="token punctuation">,</span>
    train_data_num<span class="token punctuation">,</span>
    test_data_num<span class="token punctuation">,</span>
    train_data_global<span class="token punctuation">,</span>
    test_data_global<span class="token punctuation">,</span>
    train_data_local_num_dict<span class="token punctuation">,</span>
    train_data_local_dict<span class="token punctuation">,</span>
    test_data_local_dict<span class="token punctuation">,</span>
    class_num<span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token operator">=</span> fedml<span class="token punctuation">.</span>data<span class="token punctuation">.</span>load<span class="token punctuation">(</span>
    args<span class="token punctuation">.</span>batch_size<span class="token punctuation">,</span>
    train_path<span class="token operator">=</span>args<span class="token punctuation">.</span>data_cache_dir <span class="token operator">+</span> <span class="token string">&quot;/MNIST/train&quot;</span><span class="token punctuation">,</span>
    test_path<span class="token operator">=</span>args<span class="token punctuation">.</span>data_cache_dir <span class="token operator">+</span> <span class="token string">&quot;/MNIST/test&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),w={href:"https://github.com/FedML-AI/FedML/blob/master/python/fedml/data/data_loader.py",target:"_blank",rel:"noopener noreferrer"};function I(D,z){const n=o("ExternalLinkIcon");return l(),r("div",null,[c,t("p",null,[a("Datasets are loaded by data_loader.py (located under "),t("a",u,[a("https://github.com/FedML-AI/FedML/tree/master/python/fedml/data"),e(n)]),a(". When your customized data loader follows the following data structure, FedML Parrot framework can process it without any source code change.")]),t("table",null,[p,t("tbody",null,[_,h,m,t("tr",null,[b,t("td",null,[a("Global train dataset in the form of pytorch "),t("a",f,[a("Dataloader"),e(n)]),a(".")])]),t("tr",null,[k,t("td",null,[a("Global test dataset, in the form of pytorch "),t("a",v,[a("Dataloader"),e(n)]),a(".")])]),g,t("tr",null,[y,t("td",null,[a("A dictionary to index the dataloader for each client. The key is the client index, and the value is the client's local data in the form of pytorch "),t("a",x,[a("Dataloader"),e(n)]),a(".")])]),t("tr",null,[L,t("td",null,[a("A dictionary to index the dataloader for each client. The key is the client index, and the value is the client's local data in the form of pytorch "),t("a",M,[a("Dataloader"),e(n)]),a(".")])]),T])]),F,t("p",null,[a("For more examples, please read through "),t("a",w,[a("https://github.com/FedML-AI/FedML/blob/master/python/fedml/data/data_loader.py"),e(n)]),a(".")])])}const q=s(i,[["render",I],["__file","data_loader_customization.html.vue"]]);export{q as default};
