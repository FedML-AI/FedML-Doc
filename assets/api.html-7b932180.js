import{_ as n,r as i,o as l,c as r,a,b as e,d as t,e as p}from"./app-7ac5536a.js";const d={},o=p(`<h1 id="fedml-mlops-cli-and-api-reference" tabindex="-1"><a class="header-anchor" href="#fedml-mlops-cli-and-api-reference" aria-hidden="true">#</a> FedML MLOps CLI and API Reference</h1><h2 id="overview" tabindex="-1"><a class="header-anchor" href="#overview" aria-hidden="true">#</a> Overview</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># log in to the MLOps Platform</span>
fedml login

<span class="token comment"># build packages for the MLOps Platform</span>
fedml build

<span class="token comment"># Logout from the MLOps platform</span>
fedml <span class="token builtin class-name">logout</span>

<span class="token comment"># Display logs during training</span>
fedml logs 

<span class="token comment"># Display FedML environment</span>
fedml <span class="token function">env</span>

<span class="token comment"># Display FedML version</span>
fedml version

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-login-to-the-fedml-mlops-platform-open-fedml-ai" tabindex="-1"><a class="header-anchor" href="#_1-login-to-the-fedml-mlops-platform-open-fedml-ai" aria-hidden="true">#</a> 1. Login to the FedML MLOps platform (open.fedml.ai)</h2><p>login as client with local pip mode:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml login userid<span class="token punctuation">(</span>or API Key<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>login as client with docker mode:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml login userid<span class="token punctuation">(</span>or API Key<span class="token punctuation">)</span> <span class="token parameter variable">--docker</span> --docker-rank rank_index
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>login as edge server with local pip mode:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml login userid<span class="token punctuation">(</span>or API Key<span class="token punctuation">)</span> <span class="token parameter variable">-s</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>login as edge simulator with local pip mode:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml login userid<span class="token punctuation">(</span>or API Key<span class="token punctuation">)</span> <span class="token parameter variable">-c</span> <span class="token parameter variable">-r</span> edge_simulator
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>login as edge server with docker mode:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml login userid<span class="token punctuation">(</span>or API Key<span class="token punctuation">)</span> <span class="token parameter variable">-s</span> <span class="token parameter variable">--docker</span> --docker-rank rank_index
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-1-examples-for-logging-in-to-the-fedml-mlops-platform-open-fedml-ai" tabindex="-1"><a class="header-anchor" href="#_1-1-examples-for-logging-in-to-the-fedml-mlops-platform-open-fedml-ai" aria-hidden="true">#</a> 1.1. Examples for Logging in to the FedML MLOps platform (open.fedml.ai)</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml login <span class="token number">90</span> 
<span class="token comment"># Notes: this will login the production environment for FedML MLOps platform </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml login <span class="token number">90</span> <span class="token parameter variable">--docker</span> --docker-rank <span class="token number">1</span>
<span class="token comment"># Notes: this will login the production environment with docker mode for FedML MLOps platform</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-build-the-client-and-server-package-in-the-fedml-mlops-platform-open-fedml-ai" tabindex="-1"><a class="header-anchor" href="#_2-build-the-client-and-server-package-in-the-fedml-mlops-platform-open-fedml-ai" aria-hidden="true">#</a> 2. Build the client and server package in the FedML MLOps platform (open.fedml.ai)</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml build <span class="token parameter variable">-t</span> client<span class="token punctuation">(</span>or server<span class="token punctuation">)</span> <span class="token parameter variable">-sf</span> source_folder <span class="token parameter variable">-ep</span> entry_point_file <span class="token parameter variable">-cf</span> config_folder <span class="token parameter variable">-df</span> destination_package_folder <span class="token parameter variable">--ignore</span> ignore_file_and_directory<span class="token punctuation">(</span>concat with ,<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-1-examples-for-building-the-client-and-server-package" tabindex="-1"><a class="header-anchor" href="#_2-1-examples-for-building-the-client-and-server-package" aria-hidden="true">#</a> 2.1. Examples for building the client and server package</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># build client package</span>
<span class="token assign-left variable">SOURCE</span><span class="token operator">=</span>./<span class="token punctuation">..</span>/cross_silo/client/
<span class="token assign-left variable">ENTRY</span><span class="token operator">=</span>torch_client.py
<span class="token assign-left variable">CONFIG</span><span class="token operator">=</span>./<span class="token punctuation">..</span>/cross_silo/config
<span class="token assign-left variable">DEST</span><span class="token operator">=</span>./
<span class="token assign-left variable">IGNORE</span><span class="token operator">=</span>__pycache__,*.git

fedml build <span class="token parameter variable">-t</span> client <span class="token punctuation">\\</span>
<span class="token parameter variable">-sf</span> <span class="token variable">$SOURCE</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">-ep</span> <span class="token variable">$ENTRY</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">-cf</span> <span class="token variable">$CONFIG</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">-df</span> <span class="token variable">$DEST</span>  <span class="token punctuation">\\</span>
<span class="token parameter variable">--ignore</span> <span class="token variable">$IGNORE</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># build server package</span>
<span class="token assign-left variable">SOURCE</span><span class="token operator">=</span>./<span class="token punctuation">..</span>/cross_silo/server/
<span class="token assign-left variable">ENTRY</span><span class="token operator">=</span>torch_server.py
<span class="token assign-left variable">CONFIG</span><span class="token operator">=</span>./<span class="token punctuation">..</span>/cross_silo/config
<span class="token assign-left variable">DEST</span><span class="token operator">=</span>./
<span class="token assign-left variable">IGNORE</span><span class="token operator">=</span>__pycache__,*.git

fedml build <span class="token parameter variable">-t</span> server <span class="token punctuation">\\</span>
<span class="token parameter variable">-sf</span> <span class="token variable">$SOURCE</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">-ep</span> <span class="token variable">$ENTRY</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">-cf</span> <span class="token variable">$CONFIG</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">-df</span> <span class="token variable">$DEST</span>  <span class="token punctuation">\\</span>
<span class="token parameter variable">--ignore</span> <span class="token variable">$IGNORE</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-log-out-the-mlops-platform-open-fedml-ai" tabindex="-1"><a class="header-anchor" href="#_3-log-out-the-mlops-platform-open-fedml-ai" aria-hidden="true">#</a> 3. Log out the MLOps platform (open.fedml.ai)</h2><p>logout from client with local pip mode:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml <span class="token builtin class-name">logout</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>logout from client with docker mode:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml <span class="token builtin class-name">logout</span> <span class="token parameter variable">--docker</span> --docker-rank <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>logout from edge server with local pip mode:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml <span class="token builtin class-name">logout</span> <span class="token parameter variable">-s</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>logout from edge server with docker mode:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml <span class="token builtin class-name">logout</span> <span class="token parameter variable">-s</span> <span class="token parameter variable">--docker</span> --docker-rank <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_4-display-fedml-environment-and-version" tabindex="-1"><a class="header-anchor" href="#_4-display-fedml-environment-and-version" aria-hidden="true">#</a> 4. Display FedML Environment and Version</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml <span class="token function">env</span>
fedml version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-display-logs" tabindex="-1"><a class="header-anchor" href="#_5-display-logs" aria-hidden="true">#</a> 5. Display logs</h2><p>logs from client with local pip mode:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml logs 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>logs from client with docker mode:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml logs <span class="token parameter variable">--docker</span> --docker-rank <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>logs from edge server with local pip mode:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml logs <span class="token parameter variable">-s</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>logs from edge server with docker mode:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml logs <span class="token parameter variable">--docker</span> --docker-rank <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_6-diagnosis" tabindex="-1"><a class="header-anchor" href="#_6-diagnosis" aria-hidden="true">#</a> 6. Diagnosis</h2><p>Diagnosis for connection to https://open.fedml.ai, AWS S3 and MQTT (mqtt.fedml.ai:1883)</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml diagnosis <span class="token parameter variable">--open</span> <span class="token parameter variable">--s3</span> <span class="token parameter variable">--mqtt</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_7-jobs" tabindex="-1"><a class="header-anchor" href="#_7-jobs" aria-hidden="true">#</a> 7. Jobs</h2><p>Start a job at the MLOps platform.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>Usage: fedml <span class="token function">jobs</span> start <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span>

Start a job at the MLOps platform.

Options:
-pf, <span class="token parameter variable">--platform</span> TEXT           The platform name at the MLOps platform
<span class="token punctuation">(</span>options: octopus, parrot, spider, beehive<span class="token punctuation">)</span>.
-prj, <span class="token parameter variable">--project_name</span> TEXT      The project name at the MLOps platform.
-app, <span class="token parameter variable">--application_name</span> TEXT  Application name <span class="token keyword">in</span> the My Application list
at the MLOps platform.
-d, <span class="token parameter variable">--devices</span> TEXT             The devices with the format: <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;serverId&quot;</span><span class="token builtin class-name">:</span>
<span class="token number">727</span>, <span class="token string">&quot;edgeIds&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;693&quot;</span><span class="token punctuation">]</span>, <span class="token string">&quot;account&quot;</span><span class="token builtin class-name">:</span> <span class="token number">105</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
-u, <span class="token parameter variable">--user</span> TEXT                user <span class="token function">id</span> or api key.
-k, <span class="token parameter variable">--api_key</span> TEXT             user api key.
-v, <span class="token parameter variable">--version</span> TEXT             start job at <span class="token function">which</span> version of MLOps platform.
It should be dev, <span class="token builtin class-name">test</span> or release
<span class="token parameter variable">--help</span>                         Show this message and exit.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Example:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fedml <span class="token function">jobs</span> start <span class="token parameter variable">-pf</span> octopus <span class="token parameter variable">-prj</span> test-fedml <span class="token parameter variable">-app</span> test-alex-app <span class="token parameter variable">-d</span> <span class="token string">&#39;[{&quot;serverId&quot;:706,&quot;edgeIds&quot;:[&quot;705&quot;],&quot;account&quot;:214}]&#39;</span> <span class="token parameter variable">-u</span> <span class="token number">214</span> <span class="token parameter variable">-k</span> c9356b9c4ce44363bb66366d210301
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,50),c={href:"https://github.com/FedML-AI/FedML/blob/master/test/fedml_user_code/cli/build.sh",target:"_blank",rel:"noopener noreferrer"};function m(u,v){const s=i("ExternalLinkIcon");return l(),r("div",null,[o,a("p",null,[e("You can also refer to a sanity check test example here: "),a("a",c,[e("https://github.com/FedML-AI/FedML/blob/master/test/fedml_user_code/cli/build.sh"),t(s)])])])}const h=n(d,[["render",m],["__file","api.html.vue"]]);export{h as default};
